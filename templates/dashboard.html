{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="text-center">
    <h2>Welcome, {{ user.username }}!</h2>
    <p class="text-muted">Role: {{ user.role }}</p>
    <a href="/punch/punch-in" class="btn btn-success">Punch In</a>
    <a href="/punch/punch-out" class="btn btn-danger">Punch Out</a>
</div>

<h3 class="mt-4">Attendance Records:</h3>
<table class="table table-striped">
    <thead class="table-dark">
        <tr>
            <th>Timestamp</th>
            <th>Type</th>
            <th>Photo</th>
        </tr>
    </thead>
    <tbody>
        {% for record in records %}
        <tr>
            <td>{{ record.timestamp }}</td>
            <td><span class="badge bg-{{ 'success' if record.type == 'punch-in' else 'danger' }}">{{ record.type }}</span></td>
            <td><img src="{{ record.photo_path }}" width="100" class="rounded"></td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
